---
platform: linux

image_resource:
  type: docker-image
  source: {repository: rjain/buildbox}

params:
  DEBUG:
  OPS_MGR_HOST:
  OPS_MGR_USR:
  OPS_MGR_PWD:
  NETWORK_NAME:
  SERVICE_NETWORK_NAME:
  OTHER_AZS:
  SINGLETON_JOBS_AZ:
  PRODUCT_IDENTIFIER:
  HEALTHWATCH_FORWARDER_BOSHHEALTH_INSTANCE_COUNT:
  HEALTHWATCH_FORWARDER_BOSHTASKS_INSTANCE_COUNT:
  HEALTHWATCH_FORWARDER_CANARY_INSTANCE_COUNT:
  HEALTHWATCH_FORWARDER_CLI_INSTANCE_COUNT:
  HEALTHWATCH_FORWARDER_FOUNDATION_NAME:
  HEALTHWATCH_FORWARDER_HEALTH_CHECK_AZ:
  HEALTHWATCH_FORWARDER_HEALTH_CHECK_VM_TYPE:
  HEALTHWATCH_FORWARDER_INGESTOR_INSTANCE_COUNT:
  HEALTHWATCH_FORWARDER_OPSMAN_INSTANCE_COUNT:
  HEALTHWATCH_FORWARDER_PUBLISH_TO_EVA:
  HEALTHWATCH_FORWARDER_WORKER_INSTANCE_COUNT:
  MYSQL_SKIP_NAME_RESOLVE:
  OPSMAN:
  OPSMAN_ENABLE_URL:
  MYSQL_INSTANCES:
  MYSQL_INSTANCE_TYPE:
  MYSQL_PERSISTENT_DISK_MB:
  REDIS_INSTANCES:
  REDIS_INSTANCE_TYPE:
  REDIS_PERSISTENT_DISK_MB:
  HEALTHWATCH_FORWARDER_INSTANCES:
  HEALTHWATCH_FORWARDER_INSTANCE_TYPE:
  HEALTHWATCH_FORWARDER_PERSISTENT_DISK_MB:

inputs:
  - name: pipelines-repo
  - name: om-cli
  - name: jq

run:
  path: pipelines-repo/tasks/config-p-healthwatch/task.sh
